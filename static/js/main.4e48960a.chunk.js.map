{"version":3,"sources":["Code.js","Sw.js","Comment.js","Expense.js","App.js","index.js"],"names":["React","Component","splitwise","Pizzly","host","integration","setupId","fetchProfile","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","authId","result","wrap","_context","prev","next","auth","get","then","response","json","sent","abrupt","user","stop","_x","apply","this","arguments","fetchGroup","_ref2","_callee2","_context2","GROUP_URL","_x2","fetchExpenses","_ref3","_callee3","_context3","EXPENSES_URL","expenses","_x3","fetchComments","_ref4","_callee4","expenseId","_context4","COMMENTS_URL","comments","_x4","_x5","Comment","id","content","comment_type","created_at","react_default","createElement","Expense","cost","description","_useState","useState","_useState2","slicedToArray","setComments","useEffect","t0","t1","fetchData","className","map","c","i","src_Comment","assign","key","App","setProfile","_useState3","_useState4","setGroup","_useState5","_useState6","setExpenses","connect","t2","t3","t4","t5","onClick","e","payment","src_Expense","rootElement","document","getElementById","ReactDOM","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.4e48960a.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./styles.css\";\n\nexport default class Code extends React.Component {\n  render() {\n    return (\n      <code>\n        <pre>{JSON.stringify(this.props, null, 2)}</pre>\n      </code>\n    );\n  }\n}\n","import Pizzly from \"pizzly-js\";\r\n\r\n// Pizzly environment variables, ake sure to replace\r\n// these with those of your own Pizzly instance\r\nexport const PIZZLY_HOSTNAME = \"pzzly.herokuapp.com\";\r\nexport const PIZZLY_SETUP_ID_SPLITWISE = \"06d56f38-4ec2-4d58-b10c-d0ec4ff7c780\";\r\nexport const USER_URL = \"/get_current_user\";\r\nexport const GROUPS_URL = \"/get_groups\";\r\nexport const GROUP_URL = \"/get_group\";\r\nexport const GROUP_ID = \"29626388\";\r\nexport const AUTH_ID_LOTTE = \"ba5be620-8a7e-11ec-8d5a-535ee4a023c9\";\r\nexport const AUTH_ID_WARD = \"76783540-8b40-11ec-b175-350755ff1338\";\r\nexport const EXPENSES_URL = \"/get_expenses\";\r\nexport const COMMENTS_URL = \"/get_comments\";\r\nexport const COMMENT_CREATION_URL = \"/create_comments\";\r\n\r\n/**\r\n    splitwise\r\n      .connect()\r\n      .then(({ authId }) => {\r\n        console.log(\"Sucessfully connected!\", authId);\r\n      })\r\n      .catch(console.error);\r\n   */\r\n\r\n// Initialize Pizzly\r\nexport const pizzly = new Pizzly({\r\n  host: PIZZLY_HOSTNAME\r\n});\r\n\r\nexport const splitwise = pizzly.integration(\"splitwise\", {\r\n  setupId: PIZZLY_SETUP_ID_SPLITWISE\r\n});\r\n\r\nexport const fetchProfile = async (authId) => {\r\n  let result = await splitwise\r\n    .auth(authId)\r\n    .get(USER_URL)\r\n    .then((response) => response.json());\r\n  return result.user;\r\n};\r\n\r\nexport const fetchGroup = async (authId) => {\r\n  let result = await splitwise\r\n    .auth(authId)\r\n    .get(GROUP_URL + \"/\" + GROUP_ID)\r\n    .then((response) => response.json());\r\n  return result;\r\n};\r\n\r\nexport const fetchExpenses = async (authId) => {\r\n  let result = await splitwise\r\n    .auth(authId)\r\n    .get(EXPENSES_URL + \"/?group_id=\" + GROUP_ID)\r\n    .then((response) => response.json());\r\n  return result.expenses;\r\n};\r\n\r\nexport const fetchComments = async (authId, expenseId) => {\r\n  let result = await splitwise\r\n    .auth(authId)\r\n    .get(COMMENTS_URL + \"/?expense_id=\" + expenseId)\r\n    .then((response) => response.json());\r\n  return result.comments;\r\n};\r\n\r\nexport const createComment = async (authId, expenseId, content) => {\r\n  let result = await splitwise\r\n    .auth(authId)\r\n    .post(COMMENT_CREATION_URL, {\r\n      body: JSON.stringify({ expenseId: expenseId, content: content }),\r\n      headers: { \"Content-Type\": \"application/json\" }\r\n    })\r\n    .then((response) => response.json());\r\n  console.log(result);\r\n  return result.comment;\r\n};\r\n","import React from \"react\";\r\nimport \"./styles.css\";\r\nimport { DateTime } from \"luxon\";\r\n\r\nconst Comment = ({ id, content, comment_type, created_at }) => {\r\n  const dateToText = (date) => {\r\n    let dt = DateTime.fromISO(date);\r\n    return dt.toLocaleString(DateTime.DATE_SHORT);\r\n  };\r\n\r\n  return <p>{content}</p>;\r\n};\r\n\r\nexport default Comment;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./styles.css\";\r\nimport { fetchComments } from \"./Sw\";\r\nimport Comment from \"./Comment\";\r\n\r\nconst Expense = ({ id, cost, description, authId }) => {\r\n  const [comments, setComments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setComments(await fetchComments(authId, id));\r\n    };\r\n    fetchData();\r\n  }, [authId, id]);\r\n  return (\r\n    <div className={\"box\"}>\r\n      <p>\r\n        {cost} â‚¬ {description}\r\n      </p>\r\n      {comments.map((c, i) => {\r\n        if (c.comment_type !== \"System\") {\r\n          return <Comment key={i} {...c} />;\r\n        }\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Expense;\r\n","import React, { useState } from \"react\";\nimport Code from \"./Code\";\nimport Expense from \"./Expense\";\nimport \"./styles.css\";\nimport { AUTH_ID_WARD, fetchGroup, fetchExpenses, fetchProfile } from \"./Sw\";\n\nconst App = () => {\n  const [profile, setProfile] = useState();\n  const [group, setGroup] = useState();\n  const [expenses, setExpenses] = useState([]);\n  let authId = AUTH_ID_WARD;\n\n  const connect = async () => {\n    setProfile(await fetchProfile(authId));\n    setGroup(await fetchGroup(authId));\n    setExpenses(await fetchExpenses(authId));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Hello!</h1>\n      <p>\n        Click the button bellow to retrieve your splitwise profile using Pizzly.\n      </p>\n      <button onClick={connect}>Retrieve your splitwise profile</button>\n      <p> Profile </p>\n      {/** profile && <Code {...profile} /> */}\n      <p> Group </p>\n      {/** group && <Code {...group} /> */}\n      <p> Expenses </p>\n      {/* {expenses && <Code {...expenses} />} */}\n      {expenses.map((e, i) => {\n        if (!e.payment) {\n          return <Expense key={i} {...e} authId={authId} />;\n        }\n      })}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}